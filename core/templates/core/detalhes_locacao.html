{% extends 'base.html' %}

{% block title %}Detalhes da Locação #{{ locacao.id_locacao }}{% endblock %}

{% block content %}
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h1 class="h4 mb-0">Detalhes da Locação #{{ locacao.id_locacao }}</h1>
        </div>
        <div class="card-body">
            <p><strong>Cliente:</strong> {{ locacao.cliente.nome }} {{ locacao.cliente.sobrenome }} (CPF: {{ locacao.cliente.cpf }})</p>
            <p><strong>Veículo:</strong> {{ locacao.veiculo.marca }} {{ locacao.veiculo.modelo }} (Placa: {{ locacao.veiculo.placa }})</p>
            <p><strong>Funcionário Responsável:</strong> {{ locacao.funcionario.nome }} {{ locacao.funcionario.sobrenome|default:"Não Atribuído" }}</p>
            <p><strong>Agência de Origem:</strong> {{ locacao.agencia.nome_agencia }}</p>
            <hr>
            <p><strong>Início Previsto:</strong> {{ locacao.data_inicio|date:"d/m/Y H:i" }}</p>
            <p><strong>Fim Previsto:</strong> {{ locacao.data_fim_prevista|date:"d/m/Y H:i" }}</p>
            <p><strong>Fim Real:</strong> {{ locacao.data_fim_real|date:"d/m/Y H:i"|default:"Ainda não finalizada" }}</p>
            <p><strong>Valor Total:</strong> R$ {{ locacao.valor_total|floatformat:2|default:"Aguardando Cálculo" }}</p>
            <p><strong>Status:</strong> <span class="badge bg-secondary">{{ locacao.status_locacao }}</span></p>
            <p><strong>Observações:</strong> {{ locacao.observacoes|default:"Nenhuma" }}</p>
        </div>
        <div class="card-footer d-flex justify-content-end">
            <a href="{% url 'editar_locacao' pk=locacao.pk %}" class="btn btn-warning me-2">
                <i class="fas fa-edit me-1"></i> Editar
            </a>
            <a href="{% url 'lista_locacoes' %}" class="btn btn-secondary">
                <i class="fas fa-arrow-left me-1"></i> Voltar para a Lista
            </a>
        </div>
    </div>
{% endblock %}